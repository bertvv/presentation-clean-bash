# Clean Bash - outline

- whoami
- intro, cf talk synopsis
- Robert C. Martin's Clean Code
- Improve robustness:
    - [x] Vim + ALE + ShellCheck, templates
    - [x] Write code incrementally & test continually!
    - [x] `set -euo pipefail`
    - [x] `IFS=$'\n\t'`
    - [x] variables: make them local (in functions) and immutable when possible
    - [x] Single Responsibility Principle
    - [x] no side effects (don't mutate global vars)
    - [x] Single level of abstraction
    - [x] Print log messages
    - [x] `set -x`, `set +x` around problematic code
    - [x] Idempotence
        - Ensure script can be run under any circumstance
        - Result of script is desired state of the system
        - Fail early
    - [x] Testing with BATS
- [ ] Improve readability:
    - [x] variable naming
        - environment vars: capitals
        - "local" vars: small letters
    - [x] positional parameters -> meaningful names
    - [x] command substitution: no backticks, but `$(cmd)`
    - [x] Split lines
        - one operation per line
        - long argument lists
    - [x] use long parameter names when available
    - [x] name function parameters
        - keep it simple, avoid too many args
        - document usage
    - [x] encode complex tests in a function
    
